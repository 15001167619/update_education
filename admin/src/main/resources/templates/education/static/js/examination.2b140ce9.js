(function(e){function t(t){for(var a,o,r=t[0],u=t[1],l=t[2],f=0,p=[];f<r.length;f++)o=r[f],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);c&&c(t);while(p.length)p.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,r=1;r<n.length;r++){var u=n[r];0!==i[u]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},i={examination:0},s=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],u=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var c=u;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("30c1")},"0349":function(e,t,n){"use strict";var a=n("4c6e"),i=n.n(a);i.a},"0a7e":function(e,t,n){},"301c":function(e,t,n){e.exports=n.p+"static/img/banner.a6de2c31.jpg"},"30c1":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a,i=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticStyle:{height:"15%"}}),n("div",{staticClass:"ex-scroll"},[n("div",{staticClass:"ex-box"},[n("div",{staticClass:"ex-title"},[n("van-row",{attrs:{type:"flex",justify:"space-between",align:"center"}},[n("van-col",{attrs:{span:"8"}},[n("div",{staticClass:"ex-title-left"},[e._v(e._s(e._f("exTypeFilter")(e.exObj.examinationType)))])]),n("van-col",{attrs:{span:"5",offset:"7"}},[n("span",[n("van-count-down",{staticStyle:{color:"red"},attrs:{time:e.time},on:{finish:e.timeOut}})],1)]),n("van-col",{attrs:{span:"4"}},[n("div",{staticClass:"ex-title-right"},[e._v(e._s(e.exNow+1)+"/"+e._s(e.exList.length))])])],1)],1),0===e.exObj.examinationType?n("div",{staticClass:"ex-content"},[n("div",{staticClass:"ex-content-title"},[n("fill-blank",{ref:"child",attrs:{index:e.exNow+1,content:e.exObj.examinationContent,answer:e.answerList[e.exNow].answer}})],1)]):n("div",{staticClass:"ex-content"},[n("div",{staticClass:"ex-content-title"},[e._v("\n          "+e._s(e.exNow+1)+".  "+e._s(e.exObj.examinationContent)+"\n        ")]),n("div",{staticClass:"ex-content-option"},[n("van-radio-group",{on:{change:e.chosse},model:{value:e.answerList[e.exNow].answer,callback:function(t){e.$set(e.answerList[e.exNow],"answer",t)},expression:"answerList[exNow].answer"}},e._l(e.exObj.examinationOption,function(t,a){return n("van-radio",{key:a,attrs:{name:a}},[e._v(e._s(a)+"."+e._s(t))])}),1)],1)]),n("div",{staticStyle:{position:"absolute",bottom:"20px",width:"100%"}},[n("van-row",{attrs:{type:"flex",justify:"space-around"}},[n("van-col",{attrs:{span:"6"}},[n("van-button",{attrs:{type:"default",size:"small",disabled:e.prevDisabled},on:{click:e.prev}},[e._v("上一题")])],1),n("van-col",{staticStyle:{"text-align":"center"},attrs:{span:"8"}},[n("van-button",{directives:[{name:"show",rawName:"v-show",value:e.submitStatus,expression:"submitStatus"}],attrs:{type:"info",size:"small"},on:{click:e.submitAnswer}},[e._v("提交")])],1),n("van-col",{staticStyle:{"text-align":"right"},attrs:{span:"6"}},[n("van-button",{attrs:{type:"default",size:"small",disabled:e.nextDisabled},on:{click:e.next}},[e._v("下一题")])],1)],1)],1)])])])},o=[],r=n("bd86"),u=(n("e17f"),n("2241")),l=(n("414a"),n("7a82")),c=(n("81e6"),n("9ffb")),f=(n("4d48"),n("d1e1")),p=(n("4ddd"),n("9f14")),d=(n("a44c"),n("e27c")),m=(n("e7e5"),n("d399")),v=(n("66b9"),n("b650")),x=(n("7f7f"),n("be7f"),n("565f")),b=n("bc3a"),w=n.n(b),g=n("335a"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{},[e._v("\n  "+e._s(e.index)+".  \n  "),e._l(e.questionList,function(t,a){return n("span",{key:e.randomNum(1e3,9999)},[0==t.type?n("span",[e._v(e._s(t.content))]):n("span",[n("blank",{attrs:{blankId:"blank"+e.randomNum(1e3,9999),temp:t.content,content:t.answer},on:{inputChange:function(t){return e.updateAnswer(t,a)}}})],1)])})],2)},y=[],O=(n("28a5"),n("a481"),n("4917"),n("c5f6"),n("4da3")),L={name:"FillBlank",components:{Blank:O["a"]},props:{index:Number,content:String,answer:String},data:function(){return{questionList:[],questionStr:"",answerFinal:""}},watch:{content:function(){var e=this;e.questionList=[],e.questionStr="",e.getQuestionList(e.content)}},mounted:function(){var e=this;e.questionList=[],e.questionStr="",e.getQuestionList(e.content)},methods:{getQuestionList:function(e){var t=this;t.questionList=[];var n=t.content;console.log(n);var a=n.match(/content#\d/g);n=n.replace(/content#\d/g,"|#|");var i=n.split("|#|"),s=0,o=0,r=0,u=0;while(s<a.length||o<i.length){if(o<i.length){var l={type:0};l.id=r,l.content=i[o],t.questionList.push(l),o++}if(s<a.length){var c={type:1};if(c.id=r,c.content=a[s],t.answer){var f=t.answer.split("#");u<f.length&&(c.answer=f[u],u++)}t.questionList.push(c),s++}r++}console.log(JSON.stringify(t.questionList))},updateAnswer:function(e,t){var n=this;console.log("YT:"+e+">>>>"+t),n.questionList[t].temAnswer=e;for(var a="",i=0;i<n.questionList.length;i++){var s=n.questionList[i];1===s.type&&(""!==s.temAnswer&&"undefined"!==typeof s.temAnswer&&"undefined"!==s.temAnswer?a+=s.temAnswer+"#":a+="0#")}n.answerFinal=a.substr(0,a.length-1)},getAnswer:function(){var e=this;return e.answerFinal},randomNum:function(e,t){return parseInt(Math.random()*(t-e+1)+e,10)},isChinese:function(e){var t=/^[\u4E00-\u9FA5]+$/;return!!t.test(e)}}},j=L,k=n("2877"),_=Object(k["a"])(j,h,y,!1,null,"1e937d87",null),N=_.exports,S=n("84af"),q={name:"index",components:(a={Banner:S["a"],FillBlank:N},Object(r["a"])(a,x["a"].name,x["a"]),Object(r["a"])(a,v["a"].name,v["a"]),Object(r["a"])(a,m["a"].name,m["a"]),Object(r["a"])(a,d["a"].name,d["a"]),Object(r["a"])(a,p["a"].name,p["a"]),Object(r["a"])(a,f["a"].name,f["a"]),Object(r["a"])(a,c["a"].name,c["a"]),Object(r["a"])(a,l["a"].name,l["a"]),Object(r["a"])(a,u["a"].name,u["a"]),a),data:function(){return{time:12e5,exList:[],exNow:0,exObj:{questionId:0,examinationContent:"",examinationType:1,examinationOption:{}},answerList:[{questionId:0,answer:"0"}],prevDisabled:!0,nextDisabled:!1,submitStatus:!1}},mounted:function(){var e=this,t=g["a"].get("examinationTime"),n=g["a"].get("tempTime");n===t&&(g["a"].set("exList",null),g["a"].set("time",null));var a=g["a"].get("exList");console.log(a);var i=20;a?(e.exList=a,e.exNow=0,e.exObj=Object.assign({},e.exObj,e.exList[e.exNow]),e.answerList[0].questionId=e.exList[e.exNow].questionId,e.time=g["a"].get("time"),e.time||(e.time=60*i*1e3),g["a"].set("tempTime",(new Date).getTime()),setInterval(function(){e.time=e.time-1e3,g["a"].set("time",e.time)},1e3)):(e.time=60*i*1e3,w.a.get("/api/user/questions").then(function(t){var n=t.data;console.log(n),0===n.error?(e.exList=n.data,g["a"].set("exList",n.data),g["a"].set("time",e.time),g["a"].set("tempTime",(new Date).getTime()),setInterval(function(){g["a"].set("time",e.time-1e3)},1e3),e.exNow=0,e.exObj=Object.assign({},e.exObj,e.exList[e.exNow])):Object(m["a"])(n.message)}).catch(function(e){console.log(e)}).then(function(){}))},methods:{chosse:function(e){console.log(e);var t=this;t.answerList[t.exNow].answer=e},prev:function(){var e=this;if(0!==e.exNow){if(e.nextDisabled=!1,0===e.exObj.examinationType){var t=e.$refs.child.getAnswer();e.answerList[e.exNow].answer=""!=t?t:"0"}e.exNow=e.exNow-1,e.exObj=Object.assign({},e.exObj,e.exList[e.exNow])}else e.prevDisabled=!0},next:function(){var e=this;if(e.exNow>=e.exList.length-1)return e.nextDisabled=!0,e.submitStatus=!0,void Object(m["a"])("题目已答完");if(e.prevDisabled=!1,0===e.exObj.examinationType){var t=e.$refs.child.getAnswer();e.answerList[e.exNow].answer=""!=t?t:"0"}e.exNow=e.exNow+1;var n={};"undefined"===typeof e.answerList[e.exNow]&&(n.questionId=e.exList[e.exNow].questionId,n.answer="0",e.answerList.push(n)),e.exObj=Object.assign({},e.exObj,e.exList[e.exNow]),console.log(JSON.stringify(e.answerList))},submitAnswer:function(){var e=this;w.a.post("/api/user/answer",{userId:g["a"].get("userId"),userAnswer:e.answerList}).then(function(e){var t=e.data;console.log(t),0===t.error?(Object(m["a"])("提交成功"),window.location.href="./rank.html"):Object(m["a"])(t.message)}).catch(function(e){console.log(e)}).then(function(){})},timeOut:function(){console.log("超时"),Object(m["a"])("答题时间到");var e=this;e.submitAnswer()}},filters:{exTypeFilter:function(e){return 0===e?"填空题":"选择题"}}},A=q,C=(n("0349"),Object(k["a"])(A,s,o,!1,null,"803de8ac",null)),I=C.exports;n("7d2a");i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(I)}}).$mount("#app")},"4c6e":function(e,t,n){},"4da3":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"input-box",attrs:{id:e.blankId}},e._l(e.inputList,function(t,a){return n("span",{key:t.blankId,staticClass:"tk"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"item.value"}],attrs:{type:"text"},domProps:{value:t.value},on:{focus:e.inputFocus,input:[function(n){n.target.composing||e.$set(t,"value",n.target.value)},function(t){return e.inputChange(t,a)}],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:e.deleteInput(t,a)}}})])}),0)},i=[],s=(n("28a5"),{name:"Blank",props:{blankId:String,temp:String,content:{default:"0",type:String}},data:function(){return{inputList:[],inputVal:""}},mounted:function(){var e=this,t=e.temp.split("#")[1];e.inputList=[],console.log(e.content);for(var n=0;n<t;n++)e.inputList.push({id:n,value:"undefined"===typeof e.content[n]||"0"===e.content[n]?"":e.content[n]});e.$emit("inputChange",e.getAnswer())},methods:{inputFocus:function(e){var t=this;console.log("#"+t.blankId+" .tk input");for(var n=document.querySelectorAll("#"+t.blankId+">.tk>input"),a=0;a<n.length;a++)if(""===t.inputList[a].value){document.querySelectorAll("#"+t.blankId+">.tk>input")[a].focus();break}},inputChange:function(e,t){var n=this,a=e.target,i=a.value;if(n.isChinese(i)){n.inputList[t].value=i[0];for(var s=t+1,o=1;o<i.length;o++)"undefined"!==typeof n.inputList[s]&&(n.inputList[s].value=i[o],s++);"undefined"!==typeof document.querySelectorAll("#"+n.blankId+">.tk>input")[s]?document.querySelectorAll("#"+n.blankId+">.tk>input")[s].focus():document.querySelectorAll("#"+n.blankId+">.tk>input")[s-1].focus()}else n.inputList[t].value="";n.$emit("inputChange",n.getAnswer())},deleteInput:function(e,t){var n=this;console.log(t),n.inputList[t].value="",t>0&&(n.inputList[t-1].value="",document.querySelectorAll("#"+n.blankId+">.tk>input")[t-1].focus()),n.$emit("inputChange",n.getAnswer())},getAnswer:function(){for(var e=this,t="",n=0;n<e.inputList.length;n++)t+=e.inputList[n].value;return t},isChinese:function(e){var t=/^[\u4E00-\u9FA5]+$/;return!!t.test(e)}}}),o=s,r=(n("f5e2"),n("2877")),u=Object(r["a"])(o,a,i,!1,null,"54ca469f",null);t["a"]=u.exports},"7d2a":function(e,t){function n(){var e=document.documentElement.clientWidth||document.body.clientWidth;console.log(e);var t=document.getElementsByTagName("html")[0],n=e/20;e>500&&(n=e/30),n>25&&(n=20),t.style.fontSize=n+"px",console.log(t.style.fontSize)}n(),window.onresize=function(){n()}},"84af":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"banner"},[a("img",{attrs:{src:n("301c")}})])}],s={name:"Banner"},o=s,r=(n("ab28"),n("2877")),u=Object(r["a"])(o,a,i,!1,null,"77aae448",null);t["a"]=u.exports},a9a1:function(e,t,n){},ab28:function(e,t,n){"use strict";var a=n("0a7e"),i=n.n(a);i.a},f5e2:function(e,t,n){"use strict";var a=n("a9a1"),i=n.n(a);i.a}});